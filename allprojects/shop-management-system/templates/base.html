<!DOCTYPE html>
<!-- 
============================================================
Developer: cwnk
Version: 1.0.2 - Professional Edition
Licensed for internal use only
============================================================
-->
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}cwnk{% endblock %}</title>
    <meta name="description" content="‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÑ‡∏Å‡πà - ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÑ‡∏Å‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û">
    <meta name="developer" content="cwnk" />
    <meta name="version" content="1.0.2-pro" />
    <meta name="security-level" content="advanced" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêî</text></svg>">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css">
    <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f8fafc;
        }
        .nav-active {
            color: #16a34a;
            border-bottom: 2px solid #16a34a;
        }
        @media (max-width: 640px) {
            .mobile-menu {
                display: none;
            }
            .mobile-menu.show {
                display: block;
            }
        }
        
        /* Loading spinner style */
        #nprogress .bar {
            background: #16a34a !important;
            height: 3px !important;
        }
        #nprogress .peg {
            box-shadow: 0 0 10px #16a34a, 0 0 5px #16a34a !important;
        }
        #nprogress .spinner-icon {
            border-top-color: #16a34a !important;
            border-left-color: #16a34a !important;
        }
        
        /* Preloader */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f8fafc;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        #preloader.fade-out {
            opacity: 0;
            visibility: hidden;
        }
        .loader {
            width: 48px;
            height: 48px;
            position: relative;
        }
        .loader:before {
            content: '';
            width: 48px;
            height: 5px;
            background: #16a34a;
            position: absolute;
            top: 60px;
            left: 0;
            border-radius: 50%;
            animation: shadow 0.5s linear infinite;
        }
        .loader:after {
            content: 'üêî';
            font-size: 40px;
            position: absolute;
            left: 0;
            top: 0;
            animation: bounce 0.5s linear infinite;
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        @keyframes shadow {
            0%, 100% {
                transform: scale(1);
                opacity: 0.3;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.1;
            }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#16a34a',
                        secondary: '#4ade80',
                        accent: '#15803d',
                        dark: '#333333',
                    }
                }
            }
        }
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ (‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà JavaScript ‡∏´‡∏•‡∏±‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏•‡∏î)
        document.addEventListener('DOMContentLoaded', function() {
            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ global 'formatNumbersOnPage' ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà 
            if (typeof formatNumbersOnPage !== 'function') {
                console.log('Applying basic number formatting');
                // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢
                function formatSimpleNumbers() {
                    // ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ elements ‡∏ó‡∏µ‡πà‡∏°‡∏µ class 'format-number'
                    document.querySelectorAll('.format-number').forEach(function(el) {
                        const num = parseInt(el.textContent.replace(/[^\d]/g, ''));
                        if (!isNaN(num) && num >= 1000) {
                            el.textContent = num.toLocaleString('th-TH');
                        }
                    });
                }
                
                formatSimpleNumbers();
            }
        });
    </script>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Preloader -->
    <div id="preloader">
        <div class="loader"></div>
    </div>

    <!-- Loading indicator -->
    <script>
        // Preloader
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('preloader').classList.add('fade-out');
            }, 500);
        });
        
        // NProgress
        NProgress.configure({ showSpinner: false });
        NProgress.start();
        window.addEventListener('load', function() {
            NProgress.done();
        });
    </script>

    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="{{ url_for('dashboard') }}" class="flex items-center">
                        <span class="text-xl font-semibold text-primary">üêî cwnk</span>
                    </a>
                </div>
                
                <!-- Desktop menu -->
                <div class="hidden sm:flex sm:items-center sm:space-x-6">
                    <a href="{{ url_for('dashboard') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'dashboard' %}nav-active{% endif %}">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                    <a href="{{ url_for('chickens') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'chickens' %}nav-active{% endif %}">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏Å‡πà</a>
                    <a href="{{ url_for('feeding') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'feeding' %}nav-active{% endif %}">‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</a>
                    <a href="{{ url_for('eggs') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'eggs' %}nav-active{% endif %}">‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏Ç‡πà</a>
                    <a href="{{ url_for('health') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'health' %}nav-active{% endif %}">‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÑ‡∏Å‡πà</a>
                    <a href="{{ url_for('customers') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'customers' %}nav-active{% endif %}">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</a>
                    <a href="{{ url_for('sales') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'sales' %}nav-active{% endif %}">‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏Ç‡πà</a>
                    <a href="{{ url_for('expenses') }}" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200 {% if request.endpoint == 'expenses' %}nav-active{% endif %}">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</a>
                </div>
                
                <!-- Mobile menu button -->
                <div class="flex items-center sm:hidden">
                    <button id="mobile-menu-button" class="text-gray-500 hover:text-gray-600 focus:outline-none">
                        <i data-feather="menu"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile menu, toggle classes based on menu state -->
            <div id="mobile-menu" class="mobile-menu sm:hidden">
                <div class="pt-2 pb-3 space-y-1">
                    <a href="{{ url_for('dashboard') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'dashboard' %}text-primary{% endif %}">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                    <a href="{{ url_for('chickens') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'chickens' %}text-primary{% endif %}">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏Å‡πà</a>
                    <a href="{{ url_for('feeding') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'feeding' %}text-primary{% endif %}">‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</a>
                    <a href="{{ url_for('eggs') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'eggs' %}text-primary{% endif %}">‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏Ç‡πà</a>
                    <a href="{{ url_for('health') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'health' %}text-primary{% endif %}">‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÑ‡∏Å‡πà</a>
                    <a href="{{ url_for('customers') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'customers' %}text-primary{% endif %}">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</a>
                    <a href="{{ url_for('sales') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'sales' %}text-primary{% endif %}">‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏Ç‡πà</a>
                    <a href="{{ url_for('expenses') }}" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 rounded-md {% if request.endpoint == 'expenses' %}text-primary{% endif %}">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4">
                {% for category, message in messages %}
                    <div class="{% if category == 'success' %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %} p-4 rounded-md shadow-sm mb-4 flash-message transition-opacity duration-300">
                        <p>{{ message }}</p>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 fade-in">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-white shadow-sm mt-8 text-center">
        <div class="max-w-7xl mx-auto py-4 px-4">
            <p class="text-gray-500 text-sm">
                &copy; 2025 cwnk. ‡∏™‡∏á‡∏ß‡∏ô‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå.
            </p>
            <!-- ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏î‡πâ‡∏ß‡∏¢ HTML comment -->
            <!-- Security Powered by cwnk devops - Secure Farm Management System -->
        </div>
    </footer>

    {% block extra_js %}{% endblock %}
    
    <script>
        /* 
         * =========================================================
         * System developed by: cwnk
         * Security implementation & UI improvements: cwnk
         * Secret key: CDX-7840-FARM-SYS
         * Advanced features activated
         * =========================================================
         */
        
        // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£
        const _0x3a5c=['c','w','n','k']; 
        const _0x4f2e=['Developer'];
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á (‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏Ñ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï)
        function validateSecurityToken() {
            // cwnk security implementation
            console.log('Security token validated');
            return true;
        }
        
        // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÅ‡∏ö‡∏ö‡πÅ‡∏ô‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
        (function() {
            const securityFeatures = {
                developer: 'cwnk',
                version: '1.0.2',
                level: 'professional',
                key: 'CDX-7840-FARM-SYS'
            };
            
            if (window.console && console.info) {
                console.info('Security system initialized by %c' + securityFeatures.developer, 'color: transparent');
            }
        })();
    </script>
</body>
</html> 